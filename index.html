<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://sjellard.github.io/portfolio-simulation/portfolio-simulation/css/style.css">

    <title>Markowitz Portfolio Simulation</title>
</head>
<header>
    <div class="d-flex font-weight-bold justify-content-center mt-5" >
        <h1 class="header" >
            Markowitz Portfolio Simulation
        </h1>
    </div>
</header>
<body>
<div class='container mb-5 mt-4'>
    <hr>
                <p class='mt-4'>
                    In the 1950s economist Harry Markowitz developed Markowitz Portfolio Theory, 
                    or simply Modern Portfolio Theory. Modern Portfolio Theory is a framework for selecting optimized financial portfolios.  
                    <br><br>
                    Financial assets have various levels of risk and return. 
                    Investors obviously prefer higher returns, but they also prefer to have lower risk. 
                    Since there is a trade-off between risk and reward, financial portfolios 
                    need to be considered on a risk-adjusted basis. Markowitz Portfolios are 
                    the portfolios that maximize returns for a given level of volatility.

                    Together this group of optimal portfolios which have the maximum returns for 
                    different levels of risk are called the efficient frontier. All of these portfolios
                    are efficient and investors may choose between them based on their risk tolerance. 
                    Implementing this framework we build our own efficient portfolios and select two
                    famous Markowitz Portfolios
                </p>
                <h4 class='mt-4'>Building Portfolios</h4>     
                <p>
                    First, we randomly selected 25 components of the S&P 500 and 
                    pulled their adjusted daily closes for the calendar year of 2019. 
                    The closing prices were then used to calculate daily returns which
                    are then converted to annualized returns. These are the stocks we will
                    use to build our portfolios.
                    <br><br>
                    Next we randomly generate a set of 100,000 portfolios with random weights assigned
                    to each stock. For each portfolio we calculate the annualized return and the 
                     volatility using the covariance of the component stocks.
                     The annualized return and volatility are the two core factors we need for selecting 
                     efficient Markowitz Portfolios.
                    <br><br>
                    One common Markowitz portfolio is the <b>Max Sharpe Ratio</b> portfolio (MSR). 
                    The Sharpe ratio is essentially the ratio found by dividing a portfolio’s return 
                    by its volatility. The portfolio with the greatest Sharpe ratio is called the MSR. 
                    And, the MSR is always Markowitz portfolio.  
                    Another common Markowitz portfolio is the <b>Global Minimum Volatility</b> portfolio (GMV). 
                    It is simply the portfolio with the lowest volatility. 
                    The GMV is also always a Markowitz portfolio. 
                    
                    Below we find these two Markowitz Portfolios and compare them with
                     a uniformly distributed portfolio and the
                    S&P 500 as benchmarks. Let’s take a look at the results.
                </p>
                <h4 class='mt-4'> Simulation Results </h4>
                <p>Graphing the simulation results can be quite informative. Here we have a scatterplot of the 100,000 portfolios, 
                    with volatility on the x-axis and returns on the y-axis. The colour is mapped according 
                    to the portfolios Sharpe ratio.
                     Since investors prefer low risk and high returns, the direction of increasing preference points 
                     towards the top left corner. 
                     </p>
                <figure class="figure">
                        <img src="https://raw.githubusercontent.com/SJEllard/portfolio-simulation/master/Figure_3.png" 
                        class="figure-img img-fluid rounded" 
                        alt="alt">
                        <figcaption class="figure-caption"><small>100,000 randomly generated portfolios of selected S&P 500 components</small></figcaption>
                </figure>
                <br>
                <p> 
                We can see the MSR and GMV are both towards the upper left corner as expected. This upper left
                edge is the efficient frontier where all the Markowitz Portfolios lie.
                Since the MSR and GMV are optimal portfolios we know they have the maximum 
                return for a given level of volatility. In other words, for both the MSR and GMV
                there exists no portfolio which gives the same return with lower risk,
                nor any portfolio which has greater return with equal risk.
                <br><br>
                The equally weighted portfolio and the S&P 500 benchmarks both lie near the middle of the group.
                 We can easily see that these are in fact inefficient portfolios. 
                 There are many other portfolios availiable with lower risk and equal return (directly to the left) 
                 and portfolios with higher return and equal risk (directly above).
                 All of those portfolios are preferable. 
                </p>
                <br>
                <table class="table">
                    <thead class='thead-light'>
                      <tr>
                        <th scope="col"></th>
                        <th scope="col">Portfolio</th>
                        <th scope="col">Annualized Return</th>
                        <th scope="col">Volatility</th>
                        <th scope="col">Sharpe Ratio</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"></th>
                        <td>Max Sharpe Ratio (MSR)</td>
                        <td>33.81</td>
                        <td>11.63</td>
                        <td>2.91</td>
                      </tr>
                      <tr>
                        <th scope="row"></th>
                        <td>Global Min Volatility (GMV)</td>
                        <td>26.1</td>
                        <td>10.26</td>
                        <td>2.54</td>
                      </tr>
                      <tr>
                        <th scope="row"></th>
                        <td>Equally weighted</td>
                        <td>26.28</td>
                        <td>12.24</td>
                        <td>2.15</td>
                      </tr>
                      <th scope="row"></th>
                      <td>S&P 500</td>
                      <td>26.16</td>
                      <td>12.45</td>
                      <td>2.1</td>
                    </tr>
                    </tbody>
                </table>
                <p>
                    Notice that the MSR portfolio had greater returns and <i>lower</i> variance compared 
                    to the benchmarks. The GMV also garnered approximately the same returns as the benchmarks 
                    but also had <i>significantly</i> lower volatility. Using the Markowitz framework we were able
                    to create two portfolios that are superior to the benchmarks. Choosing between these and other efficient
                    portfolios is then a matter of investor preference. 
                    A risk-averse investor may feel comfortable with the GMV portfolio while 
                    another may accept tolerate risk for the chance of greater returns. In any case, all of the 
                    Markowitz Portfolios are efficient.
                    <br>
                    <!-- Using the Markowitz framework we have selected two optimal portoflios which outperformed the 
                    common benchmarks. One portfolio with the minimum level of volatility (GMV) and the other 
                    with moderate volatility but high returns (MSR). Choosing between these and other efficient portfolios is a matter of 
                    investor preference. A risk-averse investor may feel comfortable with the GMV portfolio while 
                    another may accept higher risk for the chance of higher returns. In any case, all of the 
                    Markowitz Portfolios are efficient. -->
                    <!-- Since different investors have different risk tolerences one may choose to invest in the riskier
                    MSR portfolio where another may choose to invest in the safer GMV portfolio. In either case,
                    both portfolios are optimized to maximize returns for the given level of volatility.  -->
                    
                    
                </p>
                <h4 class='mt-4'>Technologies used:</h4>
                <ul>
                    <li>Python, Pandas, Matplotlib</li>
                    <li>Jupyter Notebook</li>
                </ul>
                <h4>Data:</h4>
                <ul>
                    <li> S&P 500 component data sourced from Yahoo finance
                    </li>
                </ul>
                <br>
                <div class = "bottom">
                    <a href="https://github.com/SJEllard/portfolio-simulation/blob/master/portfolio_simulation_book.ipynb" target="_blank">
                        <button type="button" class="btn btn-dark bottom-btn">
                            View Code!
                        </button>
                    </a>
                </div>
            </div>




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
